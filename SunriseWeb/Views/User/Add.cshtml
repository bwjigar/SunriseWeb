@model SunriseWeb.Models.UserDetailsModel
@using SunriseWeb.Resources;
@{
    ViewBag.Title = "Add User";
}

@section styles{
    <link href="~/Content/Plugins/jqueryUI/jquery-ui.css?version=1" rel="stylesheet" />
    <style>
        .ui-menu .ui-menu-item {
            width: 362px !important;
        }
        .multiselect-native-select {
            width: 100%;
        }

        .btn-group > .btn:first-child {
            display: block;
            width: 100%;
            height: calc(2.25rem + 2px);
            padding: .375rem .75rem;
            font-size: 1rem;
            line-height: 1.5;
            color: #495057;
            background-color: #fff;
            background-clip: padding-box;
            border: 1px solid #ced4da;
            border-radius: .25rem;
            transition: border-color .15s ease-in-out,box-shadow .15s ease-in-out;
            text-align: left;
        }

        .btn-group {
            width: 100%;
        }

        .multiselect-container {
            width: 100%;
        }
    </style>
}
<div class="container-fluid">
    <div class="row">
        <div class="col-12">
            <div class="dv-dsp-inblk bdr-btm pb-0">
                <div class="main-header-page">
                    <a href="">

                        <h1> Add User </h1>
                    </a>
                </div>

            </div>
        </div>
    </div>

    <div class="row">
        <div class="col-12">
            <div class="myoffer-form full-acform mt-0">
                <div class="row">
                    <div class="col-12 mb-2 pb-2" style="border-bottom: 1px solid #ddd;">
                        <ul class="offer-inbtn text-right">
                            <li>
                                <a href="@Url.Action("Manage","User")" class="offer-btn">@LanguageProvider.get("back")</a>
                            </li>
                        </ul>
                    </div>
                </div>

                <div class="row">
                    <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12">
                        <div class="row fl-sec-form">
                            <div class="col-12 col-sm-12 col-md-2 col-lg-2 col-xl-2">
                                <div class="offer-label">@LanguageProvider.get("username"):<span class="reqvalidation"> * </span></div>
                            </div>
                            <div class="col-12 col-sm-12 col-md-4 col-lg-4 col-xl-4">
                                <div class=" dash-newarrival-select-main text-left w-100 ml-0">
                                    <input type="text" tabindex="1" class="form-control" id="UNAME" onblur="BlurClearEvent();" placeholder="@LanguageProvider.get("username")" name="fname" maxlength="50" value="@Model.UserName">
                                </div>
                            </div>

                            <div class="col-12 col-sm-12 col-md-2 col-lg-2 col-xl-2">
                                <div class="offer-label">@LanguageProvider.get("pwd"):<span class="reqvalidation"> * </span></div>
                            </div>
                            <div class="col-12 col-sm-12 col-md-4 col-lg-4 col-xl-4">
                                <div class=" dash-newarrival-select-main text-left w-100 ml-0">
                                    <input readonly onfocus="this.removeAttribute('readonly');" type="password" tabindex="2" class="form-control" placeholder="@LanguageProvider.get("pwd")" onblur="BlurClearEvent();" id="PASS" maxlength="50" value="@Model.Password">
                                </div>
                            </div>

                            <div class="col-12 col-sm-12 col-md-2 col-lg-2 col-xl-2">
                                <div class="offer-label">@LanguageProvider.get("active"):</div>
                            </div>
                            <div class="col-12 col-sm-12 col-md-4 col-lg-4 col-xl-4">
                                <div class=" dash-newarrival-select-main text-left w-100 ml-0">
                                    <label class="cust-chk-bx text-left">
                                        <input type="checkbox" name="checkbox-1" tabindex="3" id="chkActive" onchange="BlurClearEvent();" checked="@Model.IsActive">
                                        <span class="cust-chkmark"></span>
                                    </label>
                                </div>
                            </div>

                            <div class="col-12 col-sm-12 col-md-2 col-lg-2 col-xl-2">
                                <div class="offer-label">@LanguageProvider.get("usertype"):<span class="reqvalidation"> * </span></div>
                            </div>
                            <div class="col-12 col-sm-12 col-md-4 col-lg-4 col-xl-4">
                                <div class=" dash-newarrival-select-main text-left w-100 ml-0 cust-main-select">
                                    <select class="form-control MinWith input-sm" id="USERTYPE" tabindex="4" chosen="" onchange="BlurClearEvent();">
                                        <option value="1">Admin</option>
                                        <option value="2">Employee</option>
                                    </select>
                                </div>
                            </div>
                            <div class="col-12 col-sm-12 col-md-2 col-lg-2 col-xl-2">
                                <div class="offer-label">@LanguageProvider.get("fname"):<span class="reqvalidation"> * </span></div>
                            </div>
                            <div class="col-12 col-sm-12 col-md-4 col-lg-4 col-xl-4">
                                <div class=" dash-newarrival-select-main text-left w-100 ml-0">
                                    <input type="text" class="form-control" tabindex="5" placeholder="@LanguageProvider.get("fname")" id="FNAME" onblur="BlurClearEvent();" onkeypress="return AllowAlphabet(event)" name="fname" maxlength="100" value="@Model.FirstName">
                                </div>
                            </div>
                            <div class="col-12 col-sm-12 col-md-2 col-lg-2 col-xl-2">
                                <div class="offer-label">@LanguageProvider.get("lname"):<span class="reqvalidation"> * </span></div>
                            </div>
                            <div class="col-12 col-sm-12 col-md-4 col-lg-4 col-xl-4">
                                <div class=" dash-newarrival-select-main text-left w-100 ml-0">
                                    <input type="text" class="form-control " tabindex="6" placeholder="@LanguageProvider.get("lname")" id="LNAME" onblur="BlurClearEvent();" onkeypress="return AllowAlphabet(event)" name="lname" maxlength="100" value="@Model.LastName">
                                </div>
                            </div>
                            <div class="col-12 col-sm-12 col-md-2 col-lg-2 col-xl-2">
                                <div class="offer-label">@LanguageProvider.get("othername"):</div>
                            </div>
                            <div class="col-12 col-sm-12 col-md-4 col-lg-4 col-xl-4">
                                <div class=" dash-newarrival-select-main text-left w-100 ml-0">
                                    <input type="text" class="form-control " tabindex="7" placeholder="@LanguageProvider.get("othername")" id="ONAME" name="lname" maxlength="100" value="@Model.OtherName">
                                </div>
                            </div>

                            <div class="col-12 col-sm-12 col-md-2 col-lg-2 col-xl-2">
                                <div class="offer-label">@LanguageProvider.get("Address1"):<span class="reqvalidation"> * </span></div>
                            </div>
                            <div class="col-12 col-sm-12 col-md-4 col-lg-4 col-xl-4">
                                <div class=" dash-newarrival-select-main text-left w-100 ml-0">
                                    <input type="text" class="form-control" tabindex="8" placeholder="@LanguageProvider.get("Address1")" id="COMPADD1" onblur="BlurClearEvent();" maxlength="500" name="lname" value="@Model.CompanyAddress">
                                </div>
                            </div>

                            <div class="col-12 col-sm-12 col-md-2 col-lg-2 col-xl-2">
                                <div class="offer-label">@LanguageProvider.get("Address2"):</div>
                            </div>
                            <div class="col-12 col-sm-12 col-md-4 col-lg-4 col-xl-4">
                                <div class=" dash-newarrival-select-main text-left w-100 ml-0">
                                    <input type="text" class="form-control" tabindex="9" placeholder="@LanguageProvider.get("Address2")" id="COMPADD2" maxlength="500" value="@Model.CompanyAddress2">
                                </div>
                            </div>

                            <div class="col-12 col-sm-12 col-md-2 col-lg-2 col-xl-2">
                                <div class="offer-label">@LanguageProvider.get("city"):<span class="reqvalidation"> * </span></div>
                            </div>
                            <div class="col-12 col-sm-12 col-md-4 col-lg-4 col-xl-4">
                                <div class=" dash-newarrival-select-main text-left w-100 ml-0">
                                    <input type="text" class="form-control" tabindex="10" placeholder="@LanguageProvider.get("city")" id="COMPCITY" onblur="BlurClearEvent();" maxlength="500" value="@Model.CompCity">
                                </div>
                            </div>

                            <div class="col-12 col-sm-12 col-md-2 col-lg-2 col-xl-2">
                                <div class="offer-label">@LanguageProvider.get("zipcode"):</div>
                            </div>
                            <div class="col-12 col-sm-12 col-md-4 col-lg-4 col-xl-4">
                                <div class=" dash-newarrival-select-main text-left w-100 ml-0">
                                    <input type="text" class="form-control" tabindex="11" placeholder="@LanguageProvider.get("zipcode")" id="COMPCODE" onblur="BlurClearEvent();" maxlength="20" name="lname" value="@Model.CompZipCode">
                                </div>
                            </div>
                            <div class="col-12 col-sm-12 col-md-2 col-lg-2 col-xl-2">
                                <div class="offer-label">@LanguageProvider.get("country"):</div>
                            </div>
                            <div class="col-12 col-sm-12 col-md-4 col-lg-4 col-xl-4">
                                <div class=" dash-newarrival-select-main text-left w-100 ml-0 cust-main-select">
                                    <input type="text" tabindex="12" class="form-control" readonly="readonly" id="COMPCOUNTRY" name="Country" placeholder="@LanguageProvider.get("country")" value="@Model.CompCountry" />
                                </div>
                            </div>

                            <div class="col-12 col-sm-12 col-md-2 col-lg-2 col-xl-2">
                                <div class="offer-label">@LanguageProvider.get("mobileno"):<span class="reqvalidation"> * </span></div>
                            </div>
                            <div class="col-12 col-sm-12 col-md-4 col-lg-4 col-xl-4">
                                <div class=" dash-newarrival-select-main text-left w-100 ml-0">
                                    <div class="d-flex">
                                        <div class="regis-sml-inpt">
                                            <input type="text" class="form-control  isdcode" tabindex="13" placeholder="@LanguageProvider.get("ISD")" id="ISD_CompMobile1" readonly="readonly" value="@(!string.IsNullOrEmpty(Model.CompMobile)?  Model.CompMobile.LastIndexOf('-') == -1 ? "0" : Model.CompMobile.Substring(0, (Model.CompMobile.LastIndexOf('-'))):"")">
                                        </div>
                                        <input type="text" class=" form-control  " tabindex="14" placeholder="@LanguageProvider.get("mobileno")" id="CompMobile1" name="lname" onblur="BlurClearEvent();" maxlength="14" onkeypress="return isNumberKey(event)" value="@( !string.IsNullOrEmpty(Model.CompMobile)?  Model.CompMobile.Substring(Model.CompMobile.LastIndexOf('-') + 1, Model.CompMobile.Length - (Model.CompMobile.LastIndexOf('-') + 1)):"")">
                                    </div>
                                </div>
                            </div>

                            <div class="col-12 col-sm-12 col-md-2 col-lg-2 col-xl-2">
                                <div class="offer-label">@LanguageProvider.get("phoneno"):</div>
                            </div>
                            <div class="col-12 col-sm-12 col-md-4 col-lg-4 col-xl-4">
                                <div class=" dash-newarrival-select-main text-left w-100 ml-0">
                                    <div class="d-flex">
                                        <div class="regis-sml-inpt">
                                            <input type="text" class="form-control stdcode" tabindex="15" placeholder="@LanguageProvider.get("areacode")" id="ISD_CompPhone1" name="lname" readonly="readonly" value="@( !string.IsNullOrEmpty(Model.CompPhone)? (Model.CompPhone.LastIndexOf('-') == -1 ? "0" : Model.CompPhone.Substring(0, (Model.CompPhone.LastIndexOf('-')))): "")">
                                        </div>

                                        <input type="text" class="form-control " tabindex="16" placeholder="@LanguageProvider.get("phoneno")" id="CompPhone" name="lname" maxlength="15" onblur="BlurClearEvent();" onkeypress="return isNumberKey(event)" value="@(!string.IsNullOrEmpty(Model.CompPhone)? Model.CompPhone.Substring(Model.CompPhone.LastIndexOf('-') + 1, Model.CompPhone.Length - (Model.CompPhone.LastIndexOf('-') + 1)):"" )">
                                    </div>
                                </div>
                            </div>
                            <div class="col-12 col-sm-12 col-md-2 col-lg-2 col-xl-2">
                                <div class="offer-label">@LanguageProvider.get("Faxno"):</div>
                            </div>
                            <div class="col-12 col-sm-12 col-md-4 col-lg-4 col-xl-4">
                                <div class=" dash-newarrival-select-main text-left w-100 ml-0">
                                    <div class="d-flex">
                                        <div class="regis-sml-inpt">
                                            <input type="text" class="form-control stdisdcode" tabindex="17" placeholder="@LanguageProvider.get("Code")" id="ISD_CompFax1" name="lname" readonly="readonly" value="@(!string.IsNullOrEmpty(Model.CompFaxNo)? Model.CompFaxNo.LastIndexOf('-') == -1 ? "0" : Model.CompFaxNo.Substring(0, (Model.CompFaxNo.LastIndexOf('-'))):"")">
                                        </div>

                                        <input type="text" class="form-control " tabindex="18" placeholder="@LanguageProvider.get("Faxno")" id="CompFax" name="lname" maxlength="15" onblur="BlurClearEvent();" onkeypress="return isNumberKey(event)" value="@(!string.IsNullOrEmpty(Model.CompFaxNo)? Model.CompFaxNo.Substring(Model.CompFaxNo.LastIndexOf('-') + 1, Model.CompFaxNo.Length - (Model.CompFaxNo.LastIndexOf('-') + 1)):"")">
                                    </div>
                                </div>
                            </div>


                            <div class="col-12 col-sm-12 col-md-2 col-lg-2 col-xl-2">
                                <div class="offer-label">@LanguageProvider.get("EmailAdd1"):<span class="reqvalidation"> * </span></div>
                            </div>
                            <div class="col-12 col-sm-12 col-md-4 col-lg-4 col-xl-4">
                                <div class=" dash-newarrival-select-main text-left w-100 ml-0">
                                    <input readonly onfocus="this.removeAttribute('readonly');" type="email" class="form-control " tabindex="19" placeholder="@LanguageProvider.get("EmailAdd1")" id="EMAIL" onblur="BlurClearEvent();" maxlength="100" value="@Model.CompEmail">
                                </div>
                            </div>

                            <div class="col-12 col-sm-12 col-md-2 col-lg-2 col-xl-2">
                                <div class="offer-label">@LanguageProvider.get("EmailAdd2"):</div>
                            </div>
                            <div class="col-12 col-sm-12 col-md-4 col-lg-4 col-xl-4">
                                <div class=" dash-newarrival-select-main text-left w-100 ml-0">
                                    <input readonly onfocus="this.removeAttribute('readonly');" type="email" class="form-control " tabindex="20" placeholder="@LanguageProvider.get("EmailAdd2")" id="EMAIL1" onblur="BlurClearEvent();" maxlength="100" value="@Model.CompEmail2">
                                </div>
                            </div>
                            <div class="col-12 col-sm-12 col-md-2 col-lg-2 col-xl-2">
                                <div class="offer-label">@LanguageProvider.get("RegNo"):</div>
                            </div>
                            <div class="col-12 col-sm-12 col-md-4 col-lg-4 col-xl-4">
                                <div class=" dash-newarrival-select-main text-left w-100 ml-0">
                                    <input type="text" class="form-control" tabindex="21" placeholder="@LanguageProvider.get("RegNo")" id="RegId" onblur="BlurClearEvent();" name="lname" maxlength="15" value="@Model.CompRegNo">
                                </div>
                            </div>
                            <div class="col-12 col-sm-12 col-md-2 col-lg-2 col-xl-2">
                                <div class="offer-label">@LanguageProvider.get("hkid"):<span class="reqvalidation">*</span></div>
                            </div>
                            <div class="col-12 col-sm-12 col-md-4 col-lg-4 col-xl-4">
                                <div class=" dash-newarrival-select-main text-left w-100 ml-0">
                                    <input type="text" class="form-control" tabindex="22" placeholder="@LanguageProvider.get("hkid")" id="HKId" onblur="BlurClearEvent();" name="lname" maxlength="15" value="@Model.HkId">
                                </div>
                            </div>

                            <div class="col-12 col-sm-12 col-md-2 col-lg-2 col-xl-2">
                                <div class="offer-label">@LanguageProvider.get("passportno"):</div>
                            </div>
                            <div class="col-12 col-sm-12 col-md-4 col-lg-4 col-xl-4">
                                <div class=" dash-newarrival-select-main text-left w-100 ml-0">
                                    <input type="text" class="form-control" tabindex="23" placeholder="@LanguageProvider.get("passportno")" id="PassPort" name="lname" maxlength="15" value="@Model.PassportId">
                                </div>
                            </div>
                            <div class="col-12 col-sm-12 col-md-2 col-lg-2 col-xl-2">
                                <div class="offer-label">@LanguageProvider.get("website"):</div>
                            </div>
                            <div class="col-12 col-sm-12 col-md-4 col-lg-4 col-xl-4">
                                <div class=" dash-newarrival-select-main text-left w-100 ml-0">
                                    <input type="text" class="form-control" placeholder="@LanguageProvider.get("website")" id="WebSite" tabindex="24" name="lname" maxlength="50" value="@Model.Website">
                                </div>
                            </div>
                            <div class="col-12 col-sm-12 col-md-2 col-lg-2 col-xl-2">
                                <div class="offer-label">@LanguageProvider.get("Skype"):</div>
                            </div>
                            <div class="col-12 col-sm-12 col-md-4 col-lg-4 col-xl-4">
                                <div class=" dash-newarrival-select-main text-left w-100 ml-0">
                                    <input type="text" class="form-control" placeholder="@LanguageProvider.get("Skype")" id="Skype" tabindex="25" name="lname" maxlength="50" value="@Model.SkypeId">
                                </div>
                            </div>
                            <div class="col-12 col-sm-12 col-md-2 col-lg-2 col-xl-2">
                                <div class="offer-label">@LanguageProvider.get("wechatid"):</div>
                            </div>
                            <div class="col-12 col-sm-12 col-md-4 col-lg-4 col-xl-4">
                                <div class=" dash-newarrival-select-main text-left w-100 ml-0">
                                    <input type="text" class="form-control" placeholder="@LanguageProvider.get("wechatid")" id="WeChat" tabindex="26" name="lname" maxlength="50" value="@Model.WeChatId">
                                </div>
                            </div>
                            @{
                                string spErrorfpcVal1 = "";
                                if (Convert.ToBoolean(Model.IsActive)) { spErrorfpcVal1 = "*"; }
                            }
                            <div class="col-12 col-sm-12 col-md-2 col-lg-2 col-xl-2">
                                <div class="offer-label">@LanguageProvider.get("fortunepartycode"):<span class="spErrorfpc reqvalidation">@spErrorfpcVal1</span></div>
                            </div>
                            <div class="col-12 col-sm-12 col-md-4 col-lg-4 col-xl-4">
                                <div class="dash-newarrival-select-main text-left w-100 ml-0">
                                    <input type="text" class="form-control" placeholder="@LanguageProvider.get("fortunepartycode")"
                                           id="FortunePartyCode" tabindex="27" name="fortunepartycode" maxlength="6"
                                           onchange="Check_FortunePartyCode_Exist();"
                                           onblur="BlurClearEvent();" value="@Model.FortunePartyCode">
                                    <label class="active" style="color: red;font-size: 12px;display:none;" id="lblfortunepartycode"></label>
                                    @*onkeypress="return isNumberKey(event)"*@
                                </div>
                            </div>

                            @*<div class="col-12 col-sm-12 col-md-2 col-lg-2 col-xl-2">
                                    <div class="offer-label">
                                        @LanguageProvider.get("fortunepartycode"):
                                        <span id="spErrorfpc" class="reqvalidation">@spErrorfpcVal</span>
                                    </div>
                                </div>
                                <div class="col-12 col-sm-12 col-md-4 col-lg-4 col-xl-4">
                                    <div class=" dash-newarrival-select-main text-left w-100 ml-0">
                                        <input type="text" class="form-control " tabindex="8"
                                               placeholder="@LanguageProvider.get("fortunepartycode")" id="FortunePartyCode"
                                               onblur="BlurClearEvent();" onkeypress="return isNumberKey(event)" name="fortunepartycode" maxlength="100"
                                               value="@Model.FortunePartyCode">
                                    </div>
                                </div>*@
                            <div class="col-12 col-sm-12 col-md-2 col-lg-2 col-xl-2">
                                <div class="offer-label"> Remark: </div>
                            </div>
                            <div class="col-12 col-sm-12 col-md-4 col-lg-4 col-xl-4">
                                <div class=" dash-newarrival-select-main text-left w-100 ml-0 cust-main-select">
                                    <input type="text" class="form-control" tabindex="28" placeholder="Remark" id="Remark" name="Remark" maxlength="100" value="@Model.Remark" max="100">
                                </div>
                            </div>
                            <div class="col-12 col-sm-12 col-md-2 col-lg-2 col-xl-2">
                                <div class="offer-label"> Supplier : </div>
                            </div>
                            <div class="col-12 col-sm-12 col-md-4 col-lg-4 col-xl-4">
                                <div class=" dash-newarrival-select-main text-left w-100 ml-0 cust-main-select">
                                    @Html.ListBoxFor(Model => Model.SupplierId, Model.SupplierList, new { @class = "form-control MinWith input-sm", @id = "ddlSupplier" })
                                </div>
                            </div>
                            <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 mt-2 pt-2" style="border-top:1px solid #ddd;">
                                <ul class="offer-inbtn pull-right mrtop">
                                    <li>
                                        <button onclick="SaveCompanyUser()" tabindex="31" class="offer-btn">@LanguageProvider.get("save")</button>
                                    </li>
                                    <li>
                                        <button onclick="Clear()" tabindex="32" class="offer-btn">@LanguageProvider.get("reset")</button>
                                    </li>
                                </ul>
                            </div>

                            <input type="hidden" id="hdnCityCode" />
                            <input type="hidden" id="hdnCountryCode" />

                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

</div>
<!--------------ErrorMesss------------->
<div class="modal fade social-model" id="ErrorModel">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title">@LanguageProvider.get("validation")</h4>
                <button type="button" class="close" onclick="ErroClearRemoveModel()">&times;</button>
            </div>
            <div class="modal-body">

                <div id="divError">

                </div>

            </div>
            <div class="modal-footer">
                <button id="btnremove" class="btn btn-primary" type="button" onclick="ErroClearRemoveModel()">@LanguageProvider.get("ok")</button>
            </div>
        </div>
    </div>
</div>

@section scripts{
    <script src="~/Content/Plugins/jqueryUI/jquery-ui.js"></script>
    <script src="~/Content/js/Pages/AddUser.js"></script>
    <link href="~/Content/Plugins/multiselect/bootstrap-multiselect.css" rel="stylesheet" />
    <script src="~/Content/Plugins/multiselect/bootstrap-multiselect.js"></script>
    <script type="text/javascript">
        $(function () {
            $('#ddlSupplier').multiselect({
                includeSelectAllOption: true, numberDisplayed: 1

            });
        });

        var SupplierIdLst = "@Model.SupplierIdLst";
        if (SupplierIdLst != null && SupplierIdLst != "") {

            var values = SupplierIdLst;
                 $.each(values.split(","), function (i, e) {
                     $("#ddlSupplier option[value='" + e + "']").prop("selected", true);
                  });
              }
    </script>
}